---
title: "Lichess4545 stats homepage"
output: md_document
date: "Last updated: `r format(Sys.time(), '%B %Y')`"
---

```{r, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)

if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, knitr)

```


This page hosts a repository of statistics relating to the [Lichess4545](https://www.lichess4545.com/team4545/) and [LoneWolf](https://www.lichess4545.com/lonewolf/) leagues. For the uninitiated, these are two popular online chess leagues that have been running since 2015. They're regularly recommended by top players like IM John Bartholomew (see [here](https://www.youtube.com/watch?v=sORvXN2tKZQ&t=410s)). Find out more at https://www.lichess4545.com/.

---

[All-time records](#alltime) | [Stats/awards by league/season](#season-stats) | [Updates](#updates) | [Acknowledgements](#acknowledgements) | [Contact](#contact)

---

## All time records {#alltime}

[All time records](https://rahulan-c.github.io/lichess4545-stats/reports/alltime_stats.html)

## Stats and awards by league/season {#season-stats} 

```{r season_reports_tbl}

# Identify all seasons for which stats reports have been compiled 

# 4545
completed_4545 <- list.files(path = "reports/", pattern = "^stats_4545(.*)\\.html$") 
any_4545 <- ifelse(length(completed_4545) > 0, T, F)
if(length(completed_4545) > 0){
  completed_4545 <- completed_4545 %>% 
    str_remove_all("stats_4545_s") %>% 
    str_remove_all("\\.html") %>% 
    sort(decreasing = T) %>% 
    paste0("[Season ", ., "]", "(https://rahulan-c.github.io/lichess4545-stats/reports/stats_4545_s", ., ".html)")
}

# LW Open
completed_lwopen <- list.files(path = "reports/", pattern = "^stats_lwopen(.*)\\.html$")
any_lwopen <- ifelse(length(completed_lwopen) > 0, T, F)
if(length(completed_lwopen) > 0){
  completed_lwopen <- completed_lwopen %>% 
    str_remove_all("stats_lwopen_s") %>% 
    str_remove_all("\\.html") %>% 
    sort(decreasing = T) %>% 
    paste0("[Season ", ., "]", "(https://rahulan-c.github.io/lichess4545-stats/reports/stats_lwopen_s", ., ".html)")
}

# LW U1800
completed_lwu1800 <- list.files(path = "reports/", pattern = "^stats_lwu1800(.*)\\.html$")
any_lwu1800 <- ifelse(length(completed_lwu1800) > 0, T, F)
if(length(completed_lwu1800) > 0){
 completed_lwu1800 <- completed_lwu1800 %>%  
   str_remove_all("stats_lwu1800_s") %>% 
   str_remove_all("\\.html") %>% 
   sort(decreasing = T) %>% 
   paste0("[Season ", ., "]", "(https://rahulan-c.github.io/lichess4545-stats/reports/stats_lwu1800_s", ., ".html)")
}

# Make sure all completed season vectors are the same length
most_completed <- max(c(length(completed_4545), 
                      length(completed_lwopen), 
                      length(completed_lwu1800)))

if(length(completed_4545) < most_completed){
  completed_4545 <- c(completed_4545, rep("", most_completed - length(completed_4545)))
}

if(length(completed_lwopen) < most_completed){
  completed_lwopen <- c(completed_lwopen, rep("", most_completed - length(completed_lwopen)))
}

if(length(completed_lwu1800) < most_completed){
  completed_lwu1800 <- c(completed_lwu1800, rep("", most_completed - length(completed_lwu1800)))
}

# Make league cols empty if there are no completed seasons
if(any_4545 == F){completed_4545 <- rep("", most_completed)}
if(any_lwopen == F){completed_lwopen <- rep("", most_completed)}
if(any_lwu1800 == F){completed_lwu1800 <- rep("", most_completed)}

# Construct and show table of league reports by season
completed <- tibble("team4545" = completed_4545,
                    "lwopen" = completed_lwopen,
                    "lwu1800" = completed_lwu1800)
knitr::kable(completed, format = "simple", col.names = c("Lichess4545 League", "Lichess LoneWolf (Open)", "Lichess LoneWolf (U1800)"))

```

## Updates {#updates}

Here are a few improvements and updates that I'm either actively working on or plan to work on soon. Many of them were first suggested by other Lichess4545 members. 

If there's something you'd like to see, please get in touch using the contact form below. Nothing is impossible...except maybe identifying piece sacrifices :)

**Future updates**
 
 - Identifying games that stayed in "theory" the longest. *Working method developed. See [Jupyter notebook](https://github.com/rahulan-c/lichess4545-stats/blob/e2ad93bcb02fd46275704487784d6307a8780804/scripts/pub_test/identify_theory_games.ipynb) for latest progress.*
- Visualising the evolution of a 4545 match. *Working method developed. See latest [output](https://raw.githubusercontent.com/rahulan-c/lichess4545-stats/cf7533b80143d5cc676395f0eaa7f238174f140f/scripts/pub_test/match_story.svg).*
- Showing positions from games
- Showing players that ended up with more time than they began with
- Stats by endgame
- Improving gambit-related stats
- Expanding the all-time stats page
- Presenting stats for other Lichess4545 community leagues (eg Rapid Battle, Series...)
- Publishing round dashboards for current seasons (similar to the ones previously published in the Lichess4545 Ledger, eg [here](https://www.lichess4545.com/media/uploads/2021/06/15/dash_lonewolf_s22_r3.png))
- Stats on the global distribution of 4545 and LoneWolf players based on (public) Lichess profile data

**Recent updates**

- 2021-08-24: published new reports for LoneWolf S22
- 2021-08-18: started revising all season reports to use the [Distill](https://rstudio.github.io/distill/) web publishing format. Until this work is fully completed, some of the published reports may look somewhat messy.

## Acknowledgements {#acknowledgements}

```{r}
credits <- c("glbert", "ErinYu", "lc91", "gingersquirrelnuts", "Chewbacca_Defense", 
             "MrScribbles", "IsaVulpes", "Ecclesiastic", "alen111", "Tranzoo", "Silkthewanderer", "Lou-E", "gavalanche20")

credits <- str_c(sort(credits), collapse = ", ")
```


Thanks to the following Lichess4545 members for providing helpful advice, suggestions and inspiration along the way: `r credits`.


## Contact {#contact}

Please use the form below to provide any comments, suggestions or bug reports.

```{=html}
<form method="post" action="https://forms.un-static.com/forms/c65e8c7acaf8b132767fee1fba923d3d07b959c5">
  <div class="form-group row">
    <label for="name" class="col-4 col-form-label">Name</label>
    <div class="col-8">
      <div class="input-group">
        <div class="input-group-addon">
          <i class="fa fa-user"></i>
        </div>
        <input id="name" name="name" placeholder="Please enter your name" type="text" required="required" class="form-control">
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label for="email" class="col-4 col-form-label">E-mail address (optional)</label>
    <div class="col-8">
      <div class="input-group">
        <div class="input-group-addon">
          <i class="fa fa-envelope"></i>
        </div>
        <input id="email" name="email" placeholder="Your e-mail address" type="text" class="form-control">
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label for="message" class="col-4 col-form-label">Message</label>
    <div class="col-8">
      <textarea id="message" name="message" cols="40" rows="10" required="required" class="form-control"></textarea>
    </div>
  </div>
  <div class="form-group row">
    <div class="offset-4 col-8">
      <button name="submit" type="submit" class="button">Send</button>
    </div>
  </div>
</form>
<div align="center">
  <p><small>(Powered by <a rel="nofollow" href="https://un-static.com/">Un-static Forms</a>)</small></p>
</div>
```



*`r paste0("Site last updated at ", format(Sys.time(), '%X %Z'), " on ", format(Sys.time(), '%a %d %b %Y'))`.*
