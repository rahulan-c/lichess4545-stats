---
title: "Round stats"
description: |
  Updates on the latest league rounds
output: distill::distill_article
site: distill::distill_website
---

```{r, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, knitr)
```




<!-- ### Round stats -->

<!-- **Under construction - not done yet** -->

<!-- Yes, round summary stats are coming. What you see here is just work in progress. Best to ignore for now.  -->

```{r round_stats_table, eval = FALSE}
# Compile all round stats reports into a single table

# First, identify all compiled round stats
reports_path <- paste0(here::here(), "/docs/")
round_reports <- list.files(path = reports_path, pattern = "^round_stats_(.*)\\.html$")
reports_md <- paste0("[", round_reports, "]",
                       "(", round_reports, ")")
reports_md <- str_c(reports_md, collapse = ", ")

```



### 4545 match 'stories'

These plots show how 4545 league matches unfold through the ups and downs of their games ([source script](https://github.com/rahulan-c/lichess4545-stats/blob/main/scripts/plot_match_story.R)).

#### Season 34

[R1](reports/stories/s34_r1_allmatches.pdf) | [R2](reports/stories/s34_r2_allmatches.pdf) | [R3](reports/stories/s34_r3_allmatches.pdf) | [R4](reports/stories/s34_r4_allmatches.pdf) | [R5](reports/stories/s34_r5_allmatches.pdf) | [R6](reports/stories/s34_r6_allmatches.pdf)

#### Season 33

[R1](reports/stories/s33_r1_allmatches.pdf) | [R2](reports/stories/s33_r2_allmatches.pdf) | [R3](reports/stories/s33_r3_allmatches.pdf) | [R4](reports/stories/s33_r4_allmatches.pdf) | [R5](reports/stories/s33_r5_allmatches.pdf) | [R6](reports/stories/s33_r6_allmatches.pdf) | [R7](reports/stories/s33_r7_allmatches.pdf) | [R8](reports/stories/s33_r8_allmatches.pdf)

#### Season 32

[R1](reports/stories/s32_r1_allmatches.pdf) | [R2](reports/stories/s32_r2_allmatches.pdf) | [R3](reports/stories/s32_r3_allmatches.pdf) | [R4](reports/stories/s32_r4_allmatches.pdf) | [R5](reports/stories/s32_r5_allmatches.pdf) | [R6](reports/stories/s32_r6_allmatches.pdf) | [R7](reports/stories/s32_r7_allmatches.pdf) | [R8](reports/stories/s32_r8_allmatches.pdf)

#### Season 31

[R1](reports/stories/s31_r1_allmatches.pdf) | [R2](reports/stories/s31_r2_allmatches.pdf) | [R3](reports/stories/s31_r3_allmatches.pdf) | [R4](reports/stories/s31_r4_allmatches.pdf) | [R5](reports/stories/s31_r5_allmatches.pdf) | [R6](reports/stories/s31_r6_allmatches.pdf) | [R7](reports/stories/s31_r7_allmatches.pdf) | [R8](reports/stories/s31_r8_allmatches.pdf)


#### Season 30

[R1](reports/stories/s30_r1_allmatches.pdf) | [R2](reports/stories/s30_r2_allmatches.pdf) | [R3](reports/stories/s30_r3_allmatches.pdf) | R4 | [R5](reports/stories/s30_r5_allmatches.pdf) | [R6](reports/stories/s30_r6_allmatches.pdf) | [R7](reports/stories/s30_r7_allmatches.pdf) | [R8](reports/stories/s30_r8_allmatches.pdf)

#### Season 29

[R1](reports/stories/s29_r1_allmatches.pdf) | [R2](reports/stories/s29_r2_allmatches.pdf) | [R3](reports/stories/s29_r3_allmatches.pdf) |
[R4](reports/stories/s29_r4_allmatches.pdf) | [R5](reports/stories/s29_r5_allmatches.pdf) | [R6](reports/stories/s29_r6_allmatches.pdf) |
[R7](reports/stories/s29_r7_allmatches.pdf) | [R8](reports/stories/s29_r8_allmatches.pdf)

#### Season 28 

[R1](reports/stories/s28_r1_allmatches.pdf) | [R2](reports/stories/s28_r2_allmatches.pdf) | [R3](reports/stories/s28_r3_allmatches.pdf) | 
[R4](reports/stories/s28_r4_allmatches.pdf) | [R5](reports/stories/s28_r5_allmatches.pdf) | [R6](reports/stories/s28_r6_allmatches.pdf) | [R7](reports/stories/s28_r7_allmatches.pdf) | [R8](reports/stories/s28_r8_allmatches.pdf)

#### Season 27

[R1](reports/stories/s27_r1_allmatches.pdf) | [R2](reports/stories/s27_r2_allmatches.pdf) | [R3](reports/stories/s27_r3_allmatches.pdf) | [R4](reports/stories/s27_r4_allmatches.pdf) | [R5](reports/stories/s27_r5_allmatches.pdf) | [R6](reports/stories/s27_r6_allmatches.pdf) | [R7](reports/stories/s27_r7_allmatches.pdf) | [R8](reports/stories/s27_r8_allmatches.pdf)

<!-- #### Sandbox -->

<!-- This is me testing a different (cleverer) way to compile and present links to match story plots. Although granted, it doesn't look so clever now.  -->

```{r, eval=FALSE}
# Show all produced match story plots within /docs/reports/stories
# Only show files ending in "allmatches.pdf"

story_paths <- list.files(path = paste0(here::here(), "/docs/reports/stories/"), 
                            pattern = "^(.*)_allmatches\\.pdf$")

story_labels <- story_paths %>% str_remove_all("_allmatches\\.pdf")

story_labels_md <- glue::glue(
  "[{story_labels}](https://rahulan-c.github.io/lichess4545-stats/reports/stories/{story_paths})"
)

story_seasons <- story_labels %>% 
  str_remove_all("_r.*$") %>% 
  str_remove_all("s") %>% 
  as.integer()

story_rounds <- story_labels %>% 
  str_remove_all("^s\\d+_r") %>% 
  as.integer

story_tbl <- tibble::tibble(
  "round_story" = story_labels_md
)

knitr::kable(story_tbl, format = "simple", 
             col.names = c("Season/Round"))

```